<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>botK - Simulador de Chat WhatsApp</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .chat-container {
      height: 100vh;
      background: #ECE5DD;
    }
    .message-bubble {
      max-width: 80%;
      word-wrap: break-word;
      margin-bottom: 8px;
      border-radius: 8px;
      padding: 8px 12px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .message-bot {
      background: white;
      align-self: flex-start;
    }
    .message-user {
      background: #DCF8C6;
      align-self: flex-end;
    }
    .typing-indicator {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      background: white;
      border-radius: 8px;
      margin-bottom: 8px;
      max-width: 60px;
    }
    .typing-dot {
      height: 8px;
      width: 8px;
      border-radius: 50%;
      background: #999;
      margin: 0 2px;
      animation: typing 1.4s ease-in-out infinite;
    }
    .typing-dot:nth-child(1) { animation-delay: 0s; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); opacity: 0.3; }
      30% { transform: translateY(-10px); opacity: 1; }
    }
    .quick-button {
      background: #25D366;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      margin: 4px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
    }
    .quick-button:hover {
      background: #1DA851;
      transform: scale(1.05);
    }
    .scroll-smooth { scroll-behavior: smooth; }
    .fade-in {
      animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="font-sans">`

  <!-- Chat Container -->
  <div id="chatApp" class="chat-container flex flex-col">
    <!-- Header WhatsApp -->
    <header class="bg-[#075E54] text-white p-4 flex items-center space-x-3 shadow-lg">
      <div class="w-10 h-10 bg-[#25D366] rounded-full flex items-center justify-center">
        <i class="fas fa-robot text-white text-lg"></i>
      </div>
      <div class="flex-1">
        <h1 class="font-semibold text-lg">botK</h1>
        <p class="text-sm opacity-90" id="status">online</p>
      </div>
      <div class="flex space-x-4 text-xl">
        <i class="fas fa-search cursor-pointer hover:opacity-70"></i>
        <i class="fas fa-ellipsis-v cursor-pointer hover:opacity-70"></i>
      </div>
    </header>

    <!-- Messages Area -->
    <div class="flex-1 overflow-y-auto p-4 scroll-smooth" id="messagesArea">
      <div class="flex flex-col space-y-2" id="messagesList">
        <!-- Messages will be inserted here by JavaScript -->
      </div>
    </div>

    <!-- Quick Buttons Area -->
    <div id="quickButtonsArea" class="px-4 py-2 hidden">
      <!-- Quick buttons will be inserted here -->
    </div>

    <!-- Input Area -->
    <div class="bg-white border-t border-gray-200 p-4">
      <div class="flex items-center space-x-3">
        <div class="flex space-x-2 text-gray-500">
          <i class="fas fa-smile text-xl cursor-pointer hover:text-gray-700"></i>
          <i class="fas fa-paperclip text-xl cursor-pointer hover:text-gray-700"></i>
        </div>
        <div class="flex-1 relative">
          <input 
            type="text" 
            id="messageInput" 
            placeholder="Digite uma mensagem..." 
            class="w-full p-3 border border-gray-300 rounded-full focus:outline-none focus:border-[#25D366] pr-12"
            maxlength="500"
          >
          <button 
            id="sendButton" 
            class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-[#25D366] text-white rounded-full p-2 hover:bg-[#1DA851] transition-colors"
          >
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
        <i class="fas fa-microphone text-gray-500 text-xl cursor-pointer hover:text-gray-700"></i>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    class BotKChat {
      constructor() {
        this.messages = [];
        this.currentStep = 'initial';
        this.currentMenu = 'menuPrincipal';
        this.menuHistory = [];
        this.userName = '';
        this.userPhone = '';
        this.userEmail = '';
        this.userBusiness = '';
        this.userSegment = '';
        this.userVolume = '';
        this.leadData = {};
        this.messageInput = document.getElementById('messageInput');
        this.sendButton = document.getElementById('sendButton');
        this.messagesList = document.getElementById('messagesList');
        this.quickButtonsArea = document.getElementById('quickButtonsArea');
        
        this.init();
      }

      init() {
        // Event listeners
        this.sendButton.addEventListener('click', () => this.sendMessage());
        this.messageInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') this.sendMessage();
        });

        // Start conversation
        setTimeout(() => {
          this.addBotMessage("OlÃ¡ ðŸ‘‹\nPra te atender melhor, me diga o que vocÃª precisa agora:\n\n1ï¸âƒ£ Fazer um pedido\n2ï¸âƒ£ Tirar dÃºvida sobre produtos\n3ï¸âƒ£ Entrega / horÃ¡rio\n4ï¸âƒ£ Falar com um atendente\n\nDigite o nÃºmero da opÃ§Ã£o:");
          
          setTimeout(() => {
            this.addBotMessage("Para comeÃ§ar nossa demonstraÃ§Ã£o, digite qualquer saudaÃ§Ã£o (oi, olÃ¡, hey, etc.)");
          }, 3000);
        }, 1000);
      }

      sendMessage() {
        const message = this.messageInput.value.trim();
        if (!message) return;

        this.addUserMessage(message);
        this.messageInput.value = '';
        
        setTimeout(() => this.processMessage(message), 500);
      }

      processMessage(message) {
        const msgLower = message.toLowerCase().trim();

        if (this.currentStep === 'capturar_nome' || 
            this.currentStep === 'capturar_negocio' || 
            this.currentStep === 'capturar_segmento' || 
            this.currentStep === 'capturar_volume' || 
            this.currentStep === 'capturar_whatsapp' || 
            this.currentStep === 'capturar_email_final' || 
            this.currentStep === 'capturar_email') {
          this.handleCapturarDados(message);
          return;
        }

        switch (this.currentStep) {
          case 'initial':
            if (this.isGreeting(msgLower)) {
              this.currentStep = 'name';
              this.addBotMessage("Perfeito! Para comeÃ§ar, digite seu nome:");
            } else {
              this.addBotMessage("OlÃ¡! Para iniciar nossa demonstraÃ§Ã£o, digite uma saudaÃ§Ã£o (oi, olÃ¡, hey, etc.)");
            }
            break;

          case 'name':
            if (this.validateName(message)) {
              this.userName = message;
              this.currentStep = 'phone';
              this.addBotMessage(`OlÃ¡ ${this.userName}! Ã‰ um prazer conhecÃª-lo!\n\nPara continuarmos, preciso do seu telefone:\nDigite: Seu nÃºmero com DDD\nExemplo: 48 99999-9999`);
            } else {
              this.addBotMessage("Por favor, digite um nome vÃ¡lido:");
            }
            break;

          case 'phone':
            if (this.validatePhone(message)) {
              this.userPhone = message;
              this.currentStep = 'menu';
              this.showMainMenu();
            } else {
              this.addBotMessage("Por favor, digite um telefone vÃ¡lido com DDD:\nExemplo: 48 99999-9999");
            }
            break;

          case 'menu':
            this.handleMenuOption(message);
            break;
        }
      }

      showMainMenu() {
        this.currentMenu = 'menuPrincipal';
        this.addBotMessage(`Perfeito, ${this.userName}! O que vocÃª gostaria de saber?`);
        this.showQuickButtons([
          { text: '1ï¸âƒ£ O que eu faÃ§o?', value: '1' },
          { text: '2ï¸âƒ£ Como funciono?', value: '2' },
          { text: '3ï¸âƒ£ Planos e preÃ§os', value: '3' },
          { text: '4ï¸âƒ£ Ver demonstraÃ§Ã£o', value: '4' },
          { text: '5ï¸âƒ£ Quero contratar! ðŸ’¼', value: '5' }
        ]);
      }

      handleMenuOption(option) {
        this.hideQuickButtons();
        
        // Adicionar menu atual ao histÃ³rico
        if (this.currentMenu && this.currentMenu !== 'menuPrincipal') {
          this.menuHistory.push(this.currentMenu);
        }
        
        switch (this.currentMenu) {
          case 'menuPrincipal':
            this.handleMainMenu(option);
            break;
          case 'menu1':
            this.handleMenu1(option);
            break;
          case 'menu2':
            this.handleMenu2(option);
            break;
          case 'menu2_1':
            this.handleMenu2_1(option);
            break;
          case 'menu3':
            this.handleMenu3(option);
            break;
          case 'menu3_1':
            this.handleMenu3_1(option);
            break;
          case 'menu4':
            this.handleMenu4(option);
            break;
          case 'demo1':
          case 'demo2':
          case 'demo3':
          case 'demo4':
          case 'demo5':
            this.handleDemo(option);
            break;
          case 'menu5':
            this.handleMenu5(option);
            break;
          case 'capturarDados':
            this.handleCapturarDados(option);
            break;
          default:
            this.handleDefault(option);
            break;
        }
      }

      handleMainMenu(option) {
        switch (option) {
          case '1':
            this.currentMenu = 'menu1';
            this.addBotMessage(`ðŸ¤– O que eu faÃ§o pelo seu negÃ³cio:

âœ… Atendo seus clientes automaticamente
âœ… Respondo perguntas frequentes
âœ… Qualifico leads
âœ… Agendo compromissos
âœ… Envio catÃ¡logos/cardÃ¡pios
âœ… Recebo pedidos
âœ… FaÃ§o follow-up de vendas
âœ… E muito mais!

Tudo isso enquanto vocÃª foca no que realmente importa! ðŸŽ¯

O que deseja saber agora?`);
            setTimeout(() => {
              this.showQuickButtons([
                { text: '1ï¸âƒ£ Como funciono?', value: '1' },
                { text: '2ï¸âƒ£ Planos e preÃ§os', value: '2' },
                { text: '3ï¸âƒ£ Ver demonstraÃ§Ã£o prÃ¡tica', value: '3' },
                { text: '4ï¸âƒ£ Quero contratar!', value: '4' },
                { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
              ]);
            }, 2000);
            break;

          case '2':
            this.currentMenu = 'menu2';
            this.addBotMessage(`âš™ï¸ Como eu funciono:

ðŸ”¹ Me integro ao seu WhatsApp Business
ðŸ”¹ Converso com seus clientes naturalmente
ðŸ”¹ Entendo perguntas e dou respostas personalizadas
ðŸ”¹ Passo para humano quando necessÃ¡rio
ðŸ”¹ VocÃª personaliza minhas respostas

ðŸ“Š Painel de controle completo:
â€¢ Veja todas as conversas
â€¢ Acompanhe mÃ©tricas
â€¢ Ajuste respostas
â€¢ Configure horÃ¡rios

ðŸ’¡ Ã‰ como ter um atendente trabalhando 24h, mas sem salÃ¡rio!

Quer saber mais?`);
            setTimeout(() => {
              this.showQuickButtons([
                { text: '1ï¸âƒ£ Ver demonstraÃ§Ã£o prÃ¡tica', value: '1' },
                { text: '2ï¸âƒ£ Planos e preÃ§os', value: '2' },
                { text: '3ï¸âƒ£ Para quais negÃ³cios serve?', value: '3' },
                { text: '4ï¸âƒ£ Quero contratar!', value: '4' },
                { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
              ]);
            }, 2000);
            break;

          case '3':
            this.currentMenu = 'menu3';
            this.addBotMessage(`ðŸ’° PLANOS E PREÃ‡OS

ðŸ“¦ PLANO BÃSICO - R$ 87/mÃªs
â€¢ 1 nÃºmero WhatsApp
â€¢ AtÃ© 1000 conversas/mÃªs
â€¢ Respostas automÃ¡ticas
â€¢ Suporte por email

ðŸš€ PLANO PROFISSIONAL - R$ 187/mÃªs
â€¢ 1 nÃºmero WhatsApp
â€¢ Conversas ilimitadas
â€¢ IntegraÃ§Ã£o com sistemas (se tiver API Aberta)
â€¢ Suporte prioritÃ¡rio

â­ PLANO PERSONALIZADO
â€¢ Sob consulta
â€¢ MÃºltiplos nÃºmeros
â€¢ Desenvolvimento customizado
â€¢ Suporte prioritÃ¡rio

ðŸ“‹ COMO FUNCIONA:
1. VocÃª escolhe o plano
2. Eu configuro tudo para vocÃª (incluso)
3. Personalizamos juntos
4. Em 5 dias (Ãºteis) seu bot estÃ¡ no ar! ðŸš€

ðŸ’° Pagamento: Mensal via PIX/CartÃ£o
âœ… Cancele quando quiser, sem multa

O que vocÃª prefere?`);
            setTimeout(() => {
              this.showQuickButtons([
                { text: '1ï¸âƒ£ Quero contratar agora!', value: '1' },
                { text: '2ï¸âƒ£ Falar com consultor', value: '2' },
                { text: '3ï¸âƒ£ Ver demonstraÃ§Ã£o interativa', value: '3' },
                { text: '4ï¸âƒ£ Tenho dÃºvidas sobre os planos', value: '4' },
                { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
              ]);
            }, 2000);
            break;

          case '4':
            this.currentMenu = 'menu4';
            this.addBotMessage(`ðŸŽª DEMONSTRAÃ‡ÃƒO INTERATIVA

Vou te mostrar o que posso fazer! Escolha um cenÃ¡rio:

1ï¸âƒ£ Restaurante/Delivery
   (cardÃ¡pio, pedidos, horÃ¡rios)

2ï¸âƒ£ ClÃ­nica/ConsultÃ³rio
   (agendamentos, confirmaÃ§Ãµes)

3ï¸âƒ£ Loja/E-commerce
   (catÃ¡logo, rastreio, vendas)

4ï¸âƒ£ ServiÃ§os/Consultoria
   (informaÃ§Ãµes, orÃ§amentos)

5ï¸âƒ£ ImobiliÃ¡ria
   (imÃ³veis, visitas, propostas)

ðŸ’¡ Escolha o mais parecido com seu negÃ³cio!`);
            setTimeout(() => {
              this.showQuickButtons([
                { text: '1ï¸âƒ£ Restaurante/Delivery', value: '1' },
                { text: '2ï¸âƒ£ ClÃ­nica/ConsultÃ³rio', value: '2' },
                { text: '3ï¸âƒ£ Loja/E-commerce', value: '3' },
                { text: '4ï¸âƒ£ ServiÃ§os/Consultoria', value: '4' },
                { text: '5ï¸âƒ£ ImobiliÃ¡ria', value: '5' },
                { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
              ]);
            }, 2000);
            break;

          case '5':
            this.currentMenu = 'menu5';
            this.addBotMessage(`ðŸŽ‰ EXCELENTE ESCOLHA!

Vamos comeÃ§ar sua transformaÃ§Ã£o digital!

Para te passar a melhor proposta, preciso de algumas informaÃ§Ãµes:

Por favor, me informe:

1ï¸âƒ£ Seu nome
2ï¸âƒ£ Nome do seu negÃ³cio
3ï¸âƒ£ Segmento (restaurante, loja, clÃ­nica, etc)
4ï¸âƒ£ Quantas mensagens recebe por dia aproximadamente
5ï¸âƒ£ Seu WhatsApp para contato

VocÃª pode:`);
            setTimeout(() => {
              this.showQuickButtons([
                { text: '1ï¸âƒ£ Preencher aqui mesmo', value: '1' },
                { text: '2ï¸âƒ£ Falar direto: (48) 99931-4665', value: '2' },
                { text: '3ï¸âƒ£ Receber proposta por email', value: '3' }
              ]);
            }, 2000);
            break;

          default:
            this.addBotMessage("Por favor, escolha uma opÃ§Ã£o vÃ¡lida (1, 2, 3, 4 ou 5):");
            setTimeout(() => this.showMainMenu(), 1000);
            break;
        }
      }

      handleMenu1(option) {
        switch (option) {
          case '1':
            this.currentMenu = 'menu2';
            this.goToMenu2();
            break;
          case '2':
            this.currentMenu = 'menu3';
            this.goToMenu3();
            break;
          case '3':
            this.currentMenu = 'menu4';
            this.goToMenu4();
            break;
          case '4':
            this.addBotMessage(`ðŸ“± Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
            break;
          case '0':
            this.goToMainMenu();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      handleMenu2(option) {
        switch (option) {
          case '1':
            this.currentMenu = 'menu4';
            this.goToMenu4();
            break;
          case '2':
            this.currentMenu = 'menu3';
            this.goToMenu3();
            break;
          case '3':
            this.currentMenu = 'menu2_1';
            this.showMenu2_1();
            break;
          case '4':
            this.addBotMessage(`ðŸ“± Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
            break;
          case '0':
            this.goToMainMenu();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      showMenu2_1() {
        this.addBotMessage(`ðŸŽ¯ NEGÃ“CIOS QUE SE BENEFICIAM:

âœ… Restaurantes e Delivery
âœ… ClÃ­nicas e ConsultÃ³rios
âœ… Lojas e E-commerce
âœ… Academias
âœ… SalÃµes de Beleza
âœ… ImobiliÃ¡rias
âœ… Autoescolas
âœ… Pet Shops
âœ… AssistÃªncias TÃ©cnicas
âœ… EscritÃ³rios de Advocacia
âœ… Contabilidade
âœ… Qualquer negÃ³cio que atende no WhatsApp!

ðŸ’¡ Se vocÃª recebe mensagens de clientes, EU posso te ajudar!

O que deseja agora?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Ver demonstraÃ§Ã£o do meu segmento', value: '1' },
            { text: '2ï¸âƒ£ Planos e preÃ§os', value: '2' },
            { text: '3ï¸âƒ£ Quero contratar!', value: '3' },
            { text: '0ï¸âƒ£ Menu principal', value: '0' }
          ]);
        }, 2000);
      }

      handleMenu2_1(option) {
        switch (option) {
          case '1':
            this.currentMenu = 'menu4';
            this.goToMenu4();
            break;
          case '2':
            this.currentMenu = 'menu3';
            this.goToMenu3();
            break;
          case '3':
            this.addBotMessage(`ðŸ“± Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
            break;
          case '0':
            this.goToMainMenu();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      handleMenu3(option) {
        switch (option) {
          case '1':
            this.addBotMessage(`ðŸ“± Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
            break;
          case '2':
            this.redirectToWhatsApp();
            break;
          case '3':
            this.currentMenu = 'menu4';
            this.goToMenu4();
            break;
          case '4':
            this.currentMenu = 'menu3_1';
            this.showMenu3_1();
            break;
          case '0':
            this.goToMainMenu();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      showMenu3_1() {
        this.addBotMessage(`â“ DÃšVIDAS FREQUENTES SOBRE PLANOS

Escolha sua dÃºvida:`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Qual a diferenÃ§a entre os planos?', value: '1' },
            { text: '2ï¸âƒ£ Quanto tempo leva para configurar?', value: '2' },
            { text: '3ï¸âƒ£ Posso cancelar quando quiser?', value: '3' },
            { text: '4ï¸âƒ£ O que sÃ£o "conversas"?', value: '4' },
            { text: '5ï¸âƒ£ VocÃªs fazem a instalaÃ§Ã£o?', value: '5' },
            { text: '6ï¸âƒ£ Preciso ter CNPJ?', value: '6' },
            { text: '7ï¸âƒ£ Como funciona o suporte?', value: '7' },
            { text: '8ï¸âƒ£ Falar com consultor', value: '8' },
            { text: '0ï¸âƒ£ Voltar aos planos', value: '0' }
          ]);
        }, 2000);
      }

      handleMenu3_1(option) {
        switch (option) {
          case '1':
            this.showFAQ1();
            break;
          case '2':
            this.showFAQ2();
            break;
          case '3':
            this.showFAQ3();
            break;
          case '4':
            this.showFAQ4();
            break;
          case '5':
            this.showFAQ5();
            break;
          case '6':
            this.showFAQ6();
            break;
          case '7':
            this.showFAQ7();
            break;
          case '8':
            this.redirectToWhatsApp();
            break;
          case 'contratar':
            this.addBotMessage(`ðŸ“± Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
            break;
          case '0':
            this.currentMenu = 'menu3';
            this.goToMenu3();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      handleMenu4(option) {
        switch (option) {
          case '1':
            this.currentMenu = 'demo1';
            this.showDemo1();
            break;
          case '2':
            this.currentMenu = 'demo2';
            this.showDemo2();
            break;
          case '3':
            this.currentMenu = 'demo3';
            this.showDemo3();
            break;
          case '4':
            this.currentMenu = 'demo4';
            this.showDemo4();
            break;
          case '5':
            this.currentMenu = 'demo5';
            this.showDemo5();
            break;
          case '0':
            this.goToMainMenu();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      handleDemo(option) {
        switch (option) {
          case '1':
            this.addBotMessage(`ðŸ“± Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
            break;
          case '2':
            this.currentMenu = 'menu4';
            this.goToMenu4();
            break;
          case '3':
            this.currentMenu = 'menu3';
            this.goToMenu3();
            break;
          case '0':
            this.goToMainMenu();
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      handleMenu5(option) {
        switch (option) {
          case '1':
            this.currentMenu = 'capturarDados';
            this.currentStep = 'capturar_nome';
            this.addBotMessage("Perfeito! Vou te guiar passo a passo.\\n\\nPrimeiro, qual o seu nome?");
            break;
          case '2':
            this.redirectToWhatsApp();
            break;
          case '3':
            this.currentStep = 'capturar_email';
            this.addBotMessage("Ã“timo! Para enviar a proposta por email, qual o seu email?");
            break;
          default:
            this.showInvalidOption();
            break;
        }
      }

      // MÃ©todos auxiliares de navegaÃ§Ã£o
      goToMainMenu() {
        this.currentMenu = 'menuPrincipal';
        this.showMainMenu();
      }

      goToMenu2() {
        this.currentMenu = 'menu2';
        this.addBotMessage(`âš™ï¸ Como eu funciono:

ðŸ”¹ Me integro ao seu WhatsApp Business
ðŸ”¹ Converso com seus clientes naturalmente
ðŸ”¹ Entendo perguntas e dou respostas personalizadas
ðŸ”¹ Passo para humano quando necessÃ¡rio
ðŸ”¹ VocÃª personaliza minhas respostas

ðŸ“Š Painel de controle completo:
â€¢ Veja todas as conversas
â€¢ Acompanhe mÃ©tricas
â€¢ Ajuste respostas
â€¢ Configure horÃ¡rios

ðŸ’¡ Ã‰ como ter um atendente trabalhando 24h, mas sem salÃ¡rio!

Quer saber mais?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Ver demonstraÃ§Ã£o prÃ¡tica', value: '1' },
            { text: '2ï¸âƒ£ Planos e preÃ§os', value: '2' },
            { text: '3ï¸âƒ£ Para quais negÃ³cios serve?', value: '3' },
            { text: '4ï¸âƒ£ Quero contratar!', value: '4' },
            { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
          ]);
        }, 2000);
      }

      goToMenu3() {
        this.currentMenu = 'menu3';
        this.addBotMessage(`ðŸ’° PLANOS E PREÃ‡OS

ðŸ“¦ PLANO BÃSICO - R$ 87/mÃªs
â€¢ 1 nÃºmero WhatsApp
â€¢ AtÃ© 1000 conversas/mÃªs
â€¢ Respostas automÃ¡ticas
â€¢ Suporte por email

ðŸš€ PLANO PROFISSIONAL - R$ 187/mÃªs
â€¢ 1 nÃºmero WhatsApp
â€¢ Conversas ilimitadas
â€¢ IntegraÃ§Ã£o com sistemas (se tiver API Aberta)
â€¢ Suporte prioritÃ¡rio

â­ PLANO PERSONALIZADO
â€¢ Sob consulta
â€¢ MÃºltiplos nÃºmeros
â€¢ Desenvolvimento customizado
â€¢ Suporte prioritÃ¡rio

ðŸ“‹ COMO FUNCIONA:
1. VocÃª escolhe o plano
2. Eu configuro tudo para vocÃª (incluso)
3. Personalizamos juntos
4. Em 5 dias (Ãºteis) seu bot estÃ¡ no ar! ðŸš€

ðŸ’° Pagamento: Mensal via PIX/CartÃ£o
âœ… Cancele quando quiser, sem multa

O que vocÃª prefere?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero contratar agora!', value: '1' },
            { text: '2ï¸âƒ£ Falar com consultor', value: '2' },
            { text: '3ï¸âƒ£ Ver demonstraÃ§Ã£o interativa', value: '3' },
            { text: '4ï¸âƒ£ Tenho dÃºvidas sobre os planos', value: '4' },
            { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
          ]);
        }, 2000);
      }

      goToMenu4() {
        this.currentMenu = 'menu4';
        this.addBotMessage(`ðŸŽª DEMONSTRAÃ‡ÃƒO INTERATIVA

Vou te mostrar o que posso fazer! Escolha um cenÃ¡rio:

1ï¸âƒ£ Restaurante/Delivery
   (cardÃ¡pio, pedidos, horÃ¡rios)

2ï¸âƒ£ ClÃ­nica/ConsultÃ³rio
   (agendamentos, confirmaÃ§Ãµes)

3ï¸âƒ£ Loja/E-commerce
   (catÃ¡logo, rastreio, vendas)

4ï¸âƒ£ ServiÃ§os/Consultoria
   (informaÃ§Ãµes, orÃ§amentos)

5ï¸âƒ£ ImobiliÃ¡ria
   (imÃ³veis, visitas, propostas)

ðŸ’¡ Escolha o mais parecido com seu negÃ³cio!`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Restaurante/Delivery', value: '1' },
            { text: '2ï¸âƒ£ ClÃ­nica/ConsultÃ³rio', value: '2' },
            { text: '3ï¸âƒ£ Loja/E-commerce', value: '3' },
            { text: '4ï¸âƒ£ ServiÃ§os/Consultoria', value: '4' },
            { text: '5ï¸âƒ£ ImobiliÃ¡ria', value: '5' },
            { text: '0ï¸âƒ£ Voltar ao menu', value: '0' }
          ]);
        }, 2000);
      }

      goToMenu5() {
        this.currentMenu = 'menu5';
        this.addBotMessage(`ðŸŽ‰ EXCELENTE ESCOLHA!

Vamos comeÃ§ar sua transformaÃ§Ã£o digital!

Para te passar a melhor proposta, preciso de algumas informaÃ§Ãµes:

Por favor, me informe:

1ï¸âƒ£ Seu nome
2ï¸âƒ£ Nome do seu negÃ³cio
3ï¸âƒ£ Segmento (restaurante, loja, clÃ­nica, etc)
4ï¸âƒ£ Quantas mensagens recebe por dia aproximadamente
5ï¸âƒ£ Seu WhatsApp para contato

VocÃª pode:`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Preencher aqui mesmo', value: '1' },
            { text: '2ï¸âƒ£ Falar direto: (48) 99931-4665', value: '2' },
            { text: '3ï¸âƒ£ Receber proposta por email', value: '3' }
          ]);
        }, 2000);
      }

      redirectToWhatsApp() {
        this.addBotMessage(`ðŸ“± Redirecionando para WhatsApp...

Entre em contato agora:
ðŸ“ž (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Nosso consultor estÃ¡ online para te atender!`);
      }

      // DemonstraÃ§Ãµes
      showDemo1() {
        this.addBotMessage(`ðŸ• DEMO: RESTAURANTE

OlÃ¡! Bem-vindo ao Restaurante Demo!

Veja como eu atenderia seus clientes:

1ï¸âƒ£ Ver cardÃ¡pio ðŸ“‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ• PIZZAS - R$ 25,00 - R$ 35,00
ðŸ” LANCHES - R$ 12,00 - R$ 18,00  
ðŸŸ PORÃ‡Ã•ES - R$ 15,00 - R$ 25,00
ðŸ¥¤ BEBIDAS - R$ 4,00 - R$ 8,00
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2ï¸âƒ£ Fazer pedido
3ï¸âƒ£ Consultar horÃ¡rios
4ï¸âƒ£ Ver promoÃ§Ãµes
5ï¸âƒ£ Falar com atendente

ðŸ’¡ Imagine isso funcionando 24h no SEU restaurante!
ðŸ“ˆ Menos chamadas perdidas = Mais vendas

Gostou da demonstraÃ§Ã£o?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero isso pro meu negÃ³cio!', value: '1' },
            { text: '2ï¸âƒ£ Ver outra demonstraÃ§Ã£o', value: '2' },
            { text: '3ï¸âƒ£ Planos e preÃ§os', value: '3' },
            { text: '0ï¸âƒ£ Menu principal', value: '0' }
          ]);
        }, 3000);
      }

      showDemo2() {
        this.addBotMessage(`ðŸ¥ DEMO: CLÃNICA/CONSULTÃ“RIO

OlÃ¡! Bem-vindo Ã  ClÃ­nica Demo!

Veja como eu atenderia seus pacientes:

1ï¸âƒ£ Agendar consulta
2ï¸âƒ£ Confirmar agendamento
3ï¸âƒ£ Consultar horÃ¡rios ðŸ“…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â° Atendemos das 09:00 Ã s 18:00
ðŸ“… Segunda a Sexta-feira  
ðŸ¥ Especialidades disponÃ­veis
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
4ï¸âƒ£ Especialidades disponÃ­veis
5ï¸âƒ£ Falar com atendente

ðŸ’¡ Imagine reduzir faltas e otimizar sua agenda!
ðŸ“… ConfirmaÃ§Ãµes automÃ¡ticas = Menos gaps na agenda

Gostou da demonstraÃ§Ã£o?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero isso pra minha clÃ­nica!', value: '1' },
            { text: '2ï¸âƒ£ Ver outra demonstraÃ§Ã£o', value: '2' },
            { text: '3ï¸âƒ£ Planos e preÃ§os', value: '3' },
            { text: '0ï¸âƒ£ Menu principal', value: '0' }
          ]);
        }, 3000);
      }

      showDemo3() {
        this.addBotMessage(`ðŸ›ï¸ DEMO: LOJA/E-COMMERCE

OlÃ¡! Bem-vindo Ã  Loja Demo!

Veja como eu atenderia seus clientes:

1ï¸âƒ£ Ver catÃ¡logo de produtos ðŸ›ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â˜• CANECA GLITTER - R$ 55,00
ðŸ½ï¸ CANECA BRANCA - R$ 45,00  
ðŸ‘• CAMISETA ALGODÃƒO - R$ 79,90
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2ï¸âƒ£ Consultar preÃ§os
3ï¸âƒ£ Rastrear pedido
4ï¸âƒ£ Formas de pagamento
5ï¸âƒ£ Falar com vendedor

ðŸ’¡ Imagine vender enquanto dorme!
ðŸš€ Atendimento 24/7 = Mais conversÃµes

Gostou da demonstraÃ§Ã£o?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero isso pra minha loja!', value: '1' },
            { text: '2ï¸âƒ£ Ver outra demonstraÃ§Ã£o', value: '2' },
            { text: '3ï¸âƒ£ Planos e preÃ§os', value: '3' },
            { text: '0ï¸âƒ£ Menu principal', value: '0' }
          ]);
        }, 3000);
      }

      showDemo4() {
        this.addBotMessage(`ðŸ’¼ DEMO: SERVIÃ‡OS/CONSULTORIA

OlÃ¡! Bem-vindo Ã  Consultoria Demo!

Veja como eu qualificaria seus leads:

1ï¸âƒ£ InformaÃ§Ãµes sobre serviÃ§os ðŸ“‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ’Ž A consultoria em pedras exÃ³ticas Ã© um 
serviÃ§o especializado que oferece suporte 
na seleÃ§Ã£o, especificaÃ§Ã£o e aplicaÃ§Ã£o de 
rochas ornamentais Ãºnicas e de alto padrÃ£o 
em projetos de arquitetura e design de interiores.
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2ï¸âƒ£ Solicitar orÃ§amento
3ï¸âƒ£ Agendar reuniÃ£o
4ï¸âƒ£ Cases de sucesso
5ï¸âƒ£ Falar com consultor

ðŸ’¡ Imagine qualificar leads automaticamente!
â±ï¸ Mais tempo para focar em clientes quentes

Gostou da demonstraÃ§Ã£o?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero isso pro meu negÃ³cio!', value: '1' },
            { text: '2ï¸âƒ£ Ver outra demonstraÃ§Ã£o', value: '2' },
            { text: '3ï¸âƒ£ Planos e preÃ§os', value: '3' },
            { text: '0ï¸âƒ£ Menu principal', value: '0' }
          ]);
        }, 3000);
      }

      showDemo5() {
        this.addBotMessage(`ðŸ  DEMO: IMOBILIÃRIA

OlÃ¡! Bem-vindo Ã  ImobiliÃ¡ria Demo!

Veja como eu atenderia seus clientes:

1ï¸âƒ£ Ver imÃ³veis disponÃ­veis
2ï¸âƒ£ Agendar visita
3ï¸âƒ£ Enviar proposta
4ï¸âƒ£ Documentos necessÃ¡rios
5ï¸âƒ£ Falar com corretor

ðŸ’¡ Imagine agendar visitas 24/7!
ðŸ¡ Menos tempo perdido = Mais negÃ³cios fechados

Gostou da demonstraÃ§Ã£o?`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero isso pra minha imobiliÃ¡ria!', value: '1' },
            { text: '2ï¸âƒ£ Ver outra demonstraÃ§Ã£o', value: '2' },
            { text: '3ï¸âƒ£ Planos e preÃ§os', value: '3' },
            { text: '0ï¸âƒ£ Menu principal', value: '0' }
          ]);
        }, 3000);
      }

      // FAQs
      showFAQ1() {
        this.addBotMessage(`ðŸ“Š DIFERENÃ‡A ENTRE PLANOS:

BÃSICO (R$ 87/mÃªs):
â€¢ Ideal para negÃ³cios pequenos
â€¢ AtÃ© 1000 conversas/mÃªs
â€¢ Funcionalidades essenciais

PROFISSIONAL (R$ 187/mÃªs):
â€¢ Para negÃ³cios em crescimento
â€¢ Conversas ILIMITADAS
â€¢ IntegraÃ§Ãµes avanÃ§adas

PERSONALIZADO:
â€¢ Para grandes operaÃ§Ãµes
â€¢ Tudo customizado
â€¢ MÃºltiplos nÃºmeros
â€¢ Desenvolvimento sob demanda`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero contratar!', value: '1' },
            { text: '2ï¸âƒ£ Outra dÃºvida', value: '2' },
            { text: '0ï¸âƒ£ Voltar', value: '0' }
          ]);
        }, 2000);
      }

      showFAQ2() {
        this.addBotMessage(`â±ï¸ TEMPO DE CONFIGURAÃ‡ÃƒO:

De 5 dias Ãºteis apÃ³s:
âœ… ContrataÃ§Ã£o confirmada
âœ… Dados fornecidos
âœ… NÃºmero WhatsApp validado (Exceto para plano PERSONALIZADO)

O processo:
1. VocÃª contrata (5min)
2. Enviamos questionÃ¡rio (atÃ© 4 horas)
3. Configuramos tudo (nÃ³s fazemos!)
4. Treinamento rÃ¡pido (30min a marcar)
5. Seu bot estÃ¡ NO AR! ðŸš€`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero comeÃ§ar agora!', value: 'contratar' },
            { text: '2ï¸âƒ£ Outra dÃºvida', value: '2' },
            { text: '0ï¸âƒ£ Voltar', value: '0' }
          ]);
        }, 2000);
      }

      showFAQ3() {
        this.addBotMessage(`âœ… POLÃTICA DE CANCELAMENTO:

â€¢ Cancele QUANDO QUISER
â€¢ SEM multas
â€¢ SEM burocracia
â€¢ SEM taxas extras

Basta avisar com 5 dias de antecedÃªncia.

Simples assim! Sem pegadinhas.`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Quero contratar!', value: '1' },
            { text: '2ï¸âƒ£ Outra dÃºvida', value: '2' },
            { text: '0ï¸âƒ£ Voltar', value: '0' }
          ]);
        }, 2000);
      }

      showFAQ4() {
        this.addBotMessage(`ðŸ’¬ O QUE SÃƒO 'CONVERSAS'?

1 conversa = 1 sessÃ£o de 24h com um cliente

Exemplo:
â€¢ Cliente manda 'oi' Ã s 10h
â€¢ VocÃªs trocam 50 mensagens atÃ© 15h
â€¢ = Conta como 1 CONVERSA

Se ele voltar no dia seguinte:
â€¢ = Nova conversa

BÃSICO: 1000 conversas/mÃªs (suficiente para pequenos negÃ³cios)
PROFISSIONAL: ILIMITADO`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Entendi! Quero contratar', value: 'contratar' },
            { text: '2ï¸âƒ£ Outra dÃºvida', value: '2' },
            { text: '0ï¸âƒ£ Voltar', value: '0' }
          ]);
        }, 2000);
      }

      showFAQ5() {
        this.addBotMessage(`ðŸ”§ INSTALAÃ‡ÃƒO E CONFIGURAÃ‡ÃƒO:

SIM! Fazemos TUDO por vocÃª:

âœ… InstalaÃ§Ã£o completa
âœ… ConfiguraÃ§Ã£o personalizada
âœ… Treinamento incluÃ­do
âœ… Testes antes de liberar
âœ… Suporte pÃ³s-instalaÃ§Ã£o

VocÃª SÃ“ precisa:
â€¢ Fornecer o nÃºmero WhatsApp
â€¢ Responder um questionÃ¡rio simples
â€¢ Aprovar as configuraÃ§Ãµes

E pronto! ðŸŽ‰`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Perfeito! Quero contratar', value: 'contratar' },
            { text: '2ï¸âƒ£ Outra dÃºvida', value: '2' },
            { text: '0ï¸âƒ£ Voltar', value: '0' }
          ]);
        }, 2000);
      }

      showFAQ6() {
        this.addBotMessage(`ðŸ“„ PRECISO TER CNPJ?

NÃƒO Ã© obrigatÃ³rio!

VocÃª pode contratar como:
âœ… Pessoa FÃ­sica (CPF)
âœ… MEI
âœ… Empresa (CNPJ)

A Ãºnica diferenÃ§a:
â€¢ Nota fiscal sÃ³ para CNPJ/MEI
â€¢ Recibo para Pessoa FÃ­sica

O BOT funciona igual para todos! ðŸ¤–`);
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Ã“timo! Quero contratar', value: 'contratar' },
            { text: '2ï¸âƒ£ Outra dÃºvida', value: '2' },
            { text: '0ï¸âƒ£ Voltar', value: '0' }
          ]);
        }, 2000);
      }

      // Sistema de captura de dados
      handleCapturarDados(message) {
        switch (this.currentStep) {
          case 'capturar_nome':
            if (this.validateName(message)) {
              this.leadData.nome = message;
              this.currentStep = 'capturar_negocio';
              this.addBotMessage(`Prazer em conhecÃª-lo, ${message}! 

Agora me fale, qual o nome do seu negÃ³cio?`);
            } else {
              this.addBotMessage("Por favor, digite um nome vÃ¡lido:");
            }
            break;

          case 'capturar_negocio':
            this.leadData.negocio = message;
            this.currentStep = 'capturar_segmento';
            this.addBotMessage("Perfeito! Qual o segmento do seu negÃ³cio? (restaurante, loja, clÃ­nica, etc.)");
            break;

          case 'capturar_segmento':
            this.leadData.segmento = message;
            this.currentStep = 'capturar_volume';
            this.addBotMessage("Entendi! Quantas mensagens vocÃªs recebem por dia aproximadamente?");
            break;

          case 'capturar_volume':
            this.leadData.volume = message;
            this.currentStep = 'capturar_whatsapp';
            this.addBotMessage("Ã“timo! Qual seu WhatsApp para contato? (com DDD)\nEx: 48 99999-9999");
            break;

          case 'capturar_whatsapp':
            if (this.validatePhone(message)) {
              this.leadData.whatsapp = message;
              this.currentStep = 'capturar_email_final';
              this.addBotMessage("Por Ãºltimo, qual seu email?");
            } else {
              this.addBotMessage("Por favor, digite um telefone vÃ¡lido com DDD:\nExemplo: 48 99999-9999");
            }
            break;

          case 'capturar_email_final':
            if (this.validateEmail(message)) {
              this.leadData.email = message;
              this.finalizarCaptura();
            } else {
              this.addBotMessage("Por favor, digite um email vÃ¡lido:");
            }
            break;

          case 'capturar_email':
            if (this.validateEmail(message)) {
              this.leadData.email = message;
              this.finalizarCapturaEmail();
            } else {
              this.addBotMessage("Por favor, digite um email vÃ¡lido:");
            }
            break;
        }
      }

      finalizarCaptura() {
        // Salvar dados do lead
        this.salvarLead();
        
        this.addBotMessage(`âœ… Dados recebidos com sucesso!

Resumo:
ðŸ‘¤ Nome: ${this.leadData.nome}
ðŸ¢ NegÃ³cio: ${this.leadData.negocio}
ðŸŽ¯ Segmento: ${this.leadData.segmento}
ðŸ“Š Volume: ${this.leadData.volume} msgs/dia
ðŸ“± WhatsApp: ${this.leadData.whatsapp}
ðŸ“§ Email: ${this.leadData.email}

Vou preparar uma proposta personalizada e entro em contato em atÃ© 24h!

Enquanto isso:`);
        
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Ver demonstraÃ§Ãµes', value: 'demo' },
            { text: '2ï¸âƒ£ Revisar planos', value: 'planos' },
            { text: '3ï¸âƒ£ Voltar ao inÃ­cio', value: 'inicio' }
          ]);
        }, 3000);
      }

      finalizarCapturaEmail() {
        this.addBotMessage(`âœ… Email recebido!

Enviaremos uma proposta detalhada para: ${this.leadData.email}

Verifique sua caixa de entrada em atÃ© 24h!

ðŸ“± DÃºvidas? WhatsApp: (48) 99931-4665
ðŸ”— https://wa.me/5548999314665

Obrigado pelo interesse! ðŸš€`);
        
        setTimeout(() => {
          this.showQuickButtons([
            { text: '1ï¸âƒ£ Ver demonstraÃ§Ãµes', value: 'demo' },
            { text: '2ï¸âƒ£ Revisar planos', value: 'planos' },
            { text: '3ï¸âƒ£ Voltar ao inÃ­cio', value: 'inicio' }
          ]);
        }, 2000);
      }

      handleDefault(option) {
        switch (option) {
          case 'demo':
            this.currentMenu = 'menu4';
            this.goToMenu4();
            break;
          case 'planos':
            this.currentMenu = 'menu3';
            this.goToMenu3();
            break;
          case 'inicio':
            this.goToMainMenu();
            break;
          case 'restart':
            this.restart();
            break;
          default:
            this.addBotMessage("Por favor, escolha uma opÃ§Ã£o vÃ¡lida:");
            break;
        }
      }

      // ValidaÃ§Ãµes
      validateEmail(email) {
        const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
        return re.test(email);
      }

      // Salvar lead (localStorage por enquanto)
      salvarLead() {
        const leads = JSON.parse(localStorage.getItem('botk_leads') || '[]');
        const novoLead = {
          ...this.leadData,
          timestamp: new Date().toISOString(),
          userAgent: navigator.userAgent
        };
        leads.push(novoLead);
        localStorage.setItem('botk_leads', JSON.stringify(leads));
        
        // Log para analytics
        console.log('Lead capturado:', novoLead);
      }



      showInvalidOption() {
        this.addBotMessage("Ops! OpÃ§Ã£o invÃ¡lida. Por favor, escolha uma das opÃ§Ãµes disponÃ­veis:");
        // Re-mostrar botÃµes do menu atual
        setTimeout(() => {
          switch(this.currentMenu) {
            case 'menuPrincipal':
              this.showMainMenu();
              break;
            case 'menu1':
              // Implementar re-mostrar menu1
              break;
            // Adicionar outros casos conforme necessÃ¡rio
          }
        }, 1000);
      }

      addBotMessage(text) {
        this.showTyping();
        setTimeout(() => {
          this.hideTyping();
          const messageDiv = document.createElement('div');
          messageDiv.className = 'message-bubble message-bot fade-in';
          messageDiv.innerHTML = text.replace(/\n/g, '<br>');
          this.messagesList.appendChild(messageDiv);
          this.scrollToBottom();
        }, 1500);
      }

      addUserMessage(text) {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message-bubble message-user fade-in';
        messageDiv.textContent = text;
        this.messagesList.appendChild(messageDiv);
        this.scrollToBottom();
      }

      showTyping() {
        const typingDiv = document.createElement('div');
        typingDiv.className = 'typing-indicator';
        typingDiv.id = 'typing';
        typingDiv.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
        this.messagesList.appendChild(typingDiv);
        this.scrollToBottom();
      }

      hideTyping() {
        const typing = document.getElementById('typing');
        if (typing) typing.remove();
      }

      showQuickButtons(buttons) {
        this.quickButtonsArea.innerHTML = '';
        buttons.forEach(button => {
          const btn = document.createElement('button');
          btn.className = 'quick-button';
          btn.textContent = button.text;
          btn.addEventListener('click', () => {
            this.addUserMessage(button.text);
            setTimeout(() => this.processMessage(button.value), 500);
          });
          this.quickButtonsArea.appendChild(btn);
        });
        this.quickButtonsArea.classList.remove('hidden');
      }

      hideQuickButtons() {
        this.quickButtonsArea.classList.add('hidden');
      }

      scrollToBottom() {
        setTimeout(() => {
          this.messagesList.parentElement.scrollTop = this.messagesList.parentElement.scrollHeight;
        }, 100);
      }

      isGreeting(message) {
        const greetings = ['ola', 'olÃ¡', 'oi', 'hello', 'hi', 'hey', 'hola', 'bom dia', 'boa tarde', 'boa noite', 'opa', 'eai', 'e ai'];
        return greetings.some(greeting => message.includes(greeting));
      }

      validateName(name) {
        return name.length >= 2 && !this.isGreeting(name.toLowerCase()) && !/\d{8,}/.test(name);
      }

      validatePhone(phone) {
        const cleanPhone = phone.replace(/\D/g, '');
        return cleanPhone.length >= 10 && cleanPhone.length <= 11;
      }
    }

    // Initialize chat when page loads
    document.addEventListener('DOMContentLoaded', () => {
      new BotKChat();
    });
  </script>

</body>
</html>
